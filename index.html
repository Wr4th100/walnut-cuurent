<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <title>Walnut - Always Interesting Videos</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />
    <link href="/css/all.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300,700"
      rel="stylesheet"
      type="text/css"
    />
    <meta
      property="og:image"
      content="https://walnut.tv/icons/walnut-logo-white-background.png"
    />
    <meta property="og:image:width" content="2273" />
    <meta property="og:image:height" content="2273" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body id="appVideo">
    <div class="navbar navbar-inverse">
      <div class="header-container">
        <div class="navbar-header">
          <div>
            <button
              type="button"
              class="navbar-toggle collapsed"
              data-toggle="collapse"
              data-target="#navbar-channels"
              aria-expanded="false"
            >
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span> <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand hidden-lg" href="/"
              ><img
                src="/img/walnut-logo.svg"
                class="walnut-logo"
                alt="Walnut.tv Logo"
            /></a>
          </div>
          <div class="collapse navbar-collapse" id="navbar-channels">
            <a class="navbar-brand visible-lg" href="/"
              ><img
                src="/img/walnut-logo.svg"
                class="walnut-logo"
                alt="Walnut.tv Logo"
            /></a>
            <ul class="nav navbar-nav">
              <li
                v-for="item in channels"
                v-bind:class="{ 'active': item.title == channel }"
              >
                <a v-on:click="changeChannel(item.title)"> {{ item.title }} </a>
              </li>
            </ul>
          </div>
          <!-- <div class="dropdown">
              <a
                id="dLabel"
                class="nav-link"
                data-target="#"
                href="#"
                data-toggle="dropdown"
                role="button"
                aria-haspopup="true"
                aria-expanded="false"
              >
                Channels <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="dLabel">
                <li>
                  <a data-href="/general">general</a>
                </li>
                <li><a data-href="/curious">curious</a></li>
                <li><a data-href="/how_to">how to</a></li>
                <li>
                  <a data-href="/educational">educational</a>
                </li>
                <li><a data-href="/documentaries">documentaries</a></li>
                <li><a data-href="/lectures">lectures</a></li>
                <li><a data-href="/food">food</a></li>
                <li><a data-href="/outdoors">outdoors</a></li>
              </ul>
            </div> -->
          <!-- <div class="navbar-right">
            <a href="" class="nav-link" data-toggle="modal" data-target="#about"
              >About</a
            >
          </div> -->
        </div>
      </div>
    </div>
    <div class="container">
      <div v-show="loadingVideos">
        <div class="videoDiv container">
          <div v-if="!mobile" class="sidebar hidden-sm hidden-xs">
            <ul class="video-list list-unstyled pre-scrollable" id="toolbox">
              <li
                class="video"
                v-for="video in videoList"
                track-by="$index"
                data-video-id="{{ $index }}"
                v-cloak
              >
                <a
                  v-on:click="play($index)"
                  :class="{ active: videoPlaying == $index}"
                  class="active"
                >
                  <div class="video-thumbnail-image hidden-xs">
                    <span
                      class="video-watched"
                      v-if="hasBeenWatched(video.youtubeId)"
                      >WATCHED</span
                    >
                    <img
                      class="video-image"
                      v-bind:src="video.youtubeId | toUrl"
                      alt="{!! video.title !!}"
                    />
                  </div>
                  <div
                    class="video-title"
                    :class="{  watched: hasBeenWatched(video.youtubeId)}"
                  >
                    <h4>{!! video.title | maxChar !!}</h4>
                  </div>
                </a>
              </li>
            </ul>
          </div>

          <div class="main-content">
            <div id="video-container" class="video-container pre-scrollable">
              <div class="embed-container">
                <div class="videoPlayer"><div id="player"></div></div>
              </div>
              <div class="video-details">
                <a
                  href="https://www.reddit.com/{{ playingVideo['permalink'] }}"
                  target="_Blank"
                  ><h2 class="modal-title" id="myModalLabel" v-cloak>
                    {!! playingVideo['title'] !!}
                  </h2></a
                >
              </div>

              <script type="text/x-template" id="comment-template">
                <ul class="list-group" v-if="hasReplies(model.data.replies)">
                  <li v-for="model in model.data.replies.data.children" :model="model" class="comment-item" v-if="isT1(model.kind)">
                    <span @click="slide(model.data.id)" class="toggle-icon comment-name id-{{ model.data.id }}"> − </span>
                    <span><a href="https://www.reddit.com/u/{{ model.data.author }}" target="_Blank">{{ model.data.author }}</a> • {{ model.data.score | points }} • {{ model['data']['created_utc'] | relativeTime }}</span>
                    <div class="{{ model.data.id }}">
                      <div class="comment-body" v-html="model.data.body_html | markdown | targetBlank">
                      </div>
                      <comment :model="model" ></comment>
                    </div>
                  </li>
                </ul>
              </script>
            </div>
          </div>
        </div>
      </div>

      <div v-else>
        <div class="container" v-cloak>
          <h2 class="loadingMessage">{!! videoMessage !!}</h2>
        </div>
      </div>

      <!-- <div class="modal fade" tabindex="-1" role="dialog" id="about">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body text-center">
              <h2>
                Rake.TV rakes in the top videos from
                <a target="_Blank" href="https://www.reddit.com/">Reddit.com</a>
              </h2>
              <p>
                I built this website to help you easily discover the best videos
                on Reddit.<br />
                You can watch videos from any subreddit by adding it to the
                URL.<br />ie
                <a href="https://rake.tv/r/humour">rake.tv/r/humour</a>
              </p>
              <p>
                If you have any feedback please
                <a href="mailto:rake.tv.mail@gmail.com">send me an email</a> or
                <a
                  target="_Blank"
                  href="http://twitter.com/home/?status=Hi @rake_tv"
                  >tweet at me</a
                >.
              </p>
              <p>
                Follow <a href="http://twitter.com/rake_tv">@rake_tv</a> on
                twitter for updates.
              </p>
            </div>
          </div>
        </div>
      </div> -->
    </div>
    <!-- <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/reddit.js@0.1.4/reddit.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/vue/1.0.28/vue.min.js"></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.10.6/moment.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/combine/npm/moment@2.10.6,npm/jquery@1.12.4,npm/vue@1.0.28"></script> -->
    <!-- <script src="/js/all.js"></script> -->
    <script src="/js/all.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-91188052-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'UA-91188052-5');
    </script>
  </body>
</html>
